<link rel="stylesheet" type="text/css" href="../styles/fibstyle.css">
<button onclick="random()" class="bon" id = "res">Reset</button>
    <canvas id="p" width= "1000"></canvas>
    <script>
      var p = document.getElementById("p");
      var ctx = p.getContext("2d");
	var pos = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
	var a = prompt("How many colums");
	a = a.replace(/[^0-9]/g, "");
	a = Number(a);
	a += 2
	if (a - 2 > 100000) {
	a = 1000;
	alert("Maximum of 100,000");
	}
	for (var x = 0; x < a - 1; x++) {
	pos[x] = 1000 / a * x;
	}
	var done = false;
	var h = [];
	var dorand = true;
	function random() {
	done = false;
	ctx.fillStyle = "red";
	for (var x = 0; x < a; x ++) {
	h[x] = Math.ceil(Math.random() * (a * 2)) * (100 / (a * 2));
	}
	}
	random();
	var hidden = 0;
	var y = 0;
	ctx.fillStyle = "red";
      function run() {
	ctx.clearRect(0, 0, 1000, 1000);
	y = 0;
	for (var x = 0; x < a - 2; x ++) {
	if (done == true) {
	ctx.fillStyle = "limegreen";
	}
	ctx.fillRect(pos[x], 50, 1000 / a, h[x]);
	}
	dorand = false;
	for (var x = 0; x < a - 2; x ++) {
	if (h[x] > h[x + 1]) {
	hidden = h[x];
	h[x] = h[x + 1];
	h[x + 1] = hidden;
      	}
	else {
	y ++;
	}
	if (y >= a - 2) {
	done = true;
	}
	}
      }
      var i = setInterval(run, 0);
    </script>